# 项目更新日志

### v0.1.3 更新
- [todo] 本版本主要进行小功能更新
【新增】版权信息接口，并测试通过

### v0.1.2 更新
- [todo] 本版本主要完善项目其余内容
【新增】scripts 后台运行的bash脚本
【新增】makefile 文件
【新增】pkg中添加redis的缓存模块
【新增】管理员登录的model和repo层内容，目前还没有用到

### v0.1.1 更新
- [x] 本版本主要开始落实修改后的sql逻辑
【新增】上传了最新的sql文件
【修改】record血压记录新增时间限制，并测试接口通过
【新增】treatmentPlan 治疗方案表的repo、service 内容，并测试接口通过
【添加】patientInfo 患者信息表的repo、service 内容，并测试接口通过
【修改】model每一个结构体新增别名，同一在系统内传递

patientInfo BUG: 
gin的输入验证模块不允许传递0值（即int:0;string:"",bool:false……）
修正0值传递的方式就是ing -> *int 这样，但是这会造成patientInfo模块model反射模块出错。
目前暂无解决方案。

### v0.1.0 更新
- [x] 客户提供了UI设计图，需要删除现有的药物治疗方案的绑定设计，该为纯文类型的信息嵌入，另外个人信息部分需要增加。

- [x] 完成除了"我的检查报告"以外的sql
- [x] 更新相对应的model层
- [x] 路由身份上，区分管理员和普通用户，管理员只保留一个基本登录接口，重点编写普通用户内容
【更新】README.md 内容
【添加】admin_users 表对应的model
【修改】base_users 字段调整，基本用户取消权限差异
【删除】删除medical药物的model内容
【删除】删除treatment治疗方案和药物使用的绑定内容
【修改】patient_bp_recods 字段调整，添加心率字段
【添加】patient_infos 表对应的 model
【修改】删除treatment_plans 的结束字段，现在是一个纯时间轴的路线，合并日期和时间字段

### v0.0.5 更新
这个版本按照自己的想法做着，结果拿到了前端需求，在药物分析上边大改，因此直接结束v0.0.X版本开发，跳转v0.1.0版本开始开发并进行改动
- [x] 完成血压记录数据、读取的更新
【添加】血压记录功能及相关API
【添加】血压记录的读取，全部读取
【添加】血压记录的限制读取（按照月份、日期）

### v0.0.4 更新
本版本主要完成了用户实体的注册登录修改信息等功能，并预留了未来管理员模式加入的接口

- [x] 开始编写业务层代码
- [x] 密码存储的加密模块存在漏洞，正在进行修复
- [x] 空用户获取gorm返回空数据而不是报错

【添加】使用openid一键登录
【添加】用户注册接口
【修改】密码存储采用md5存储并使用md5的验证模块
【修改】更新常量字段，有datetime，time，date三类用来规范时间格式
【新增】tools工具类中增加当前日期获取
【添加】添加微信用户注册接口，并做了数据校验
【添加】用户修改
【添加】管理员权限组

### v0.0.3 更新
【新增】增加model、service、handler作为类似MVC的架构结构，并落实baseUser的登录模块，支持登录方式有：1.openid登录（微信一键自动登录）。2.用户密码登录（一般用在管理员模块登录）
【新增】session管理
【新增】完善main方法并且运行
- [x] 配置文件hostname应该写成host
- [x] debug完成，API接口可以访问了

#### v0.0.2 更新
【修改】修改.gitignore使之忽略log生成文件
【修改】mysql配置文件现在是支持主从双数据库处理
【添加】cache模块，可能用得上redis（目前未使用）·
【修改】提取pkg定义的实体到业务层，并修改entity为model进行归类
【修改】修复了一个mysql密码修改导致的远端链接bug
【添加】实体对象操作接口，
【添加】中间件，handle，ping方法
【修改】同一使用uint作为用户id字段，之前使用int64和mysql的字段长度对不上

#### v0.0.1 更新
【新增】添加更新日志文档
【新增】配置模块添加对应实体关系
【删除】删除pkg/global模块代码，现在用config模块代替，不再使用单例模式创建配置代码
【新增】jwt代码，用来处理token格式
【修改】logger，model对config配置文件的使用
【修改】copyright的显示方式，log注册还无法Testing通过

#### v0.0.0
创建项目，按照
'
config/ 配置文件
pkg/ 包文件（主要代码）
server/ (服务代码)
tools/ （全局工具代码）
'